{"ast":null,"code":"import _defineProperty from\"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /react-mesto-auth/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from'react-router-dom';import*as auth from'../auth';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Register=function Register(props){var navigate=useNavigate();var _React$useState=React.useState({email:'',password:''}),_React$useState2=_slicedToArray(_React$useState,2),formValue=_React$useState2[0],setFormValue=_React$useState2[1];var handleShowSuccesTool=function handleShowSuccesTool(){props.onShow(true);props.onSucces(true);props.onText('Вы успешно зарегистрировались!');};var handleShowErrorTool=function handleShowErrorTool(){props.onShow(true);props.onSucces(false);props.onText('Что-то пошло не так! Попробуйте ещё раз.');};var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValue(_objectSpread(_objectSpread({},formValue),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var password=formValue.password,email=formValue.email;auth.register(password,email).then(function(res){if(res){handleShowSuccesTool();navigate('/sign-in',{replace:true});}else{handleShowErrorTool();console.log(res);}}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430! \".concat(err));});};return/*#__PURE__*/_jsx(\"div\",{className:\"sign-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"sign-up__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"sign-up__form\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,placeholder:\"Email\",className:\"sign-up__input\",required:true,name:\"email\",type:\"email\",value:formValue.email}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"sign-up__input\",required:true,name:\"password\",type:\"password\",value:formValue.password}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,type:\"submit\",className:\"sign-up__submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__text-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sign-up__info-text\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"sign-up__link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})});};","map":{"version":3,"names":["Link","useNavigate","auth","React","jsx","_jsx","jsxs","_jsxs","Register","props","navigate","_React$useState","useState","email","password","_React$useState2","_slicedToArray","formValue","setFormValue","handleShowSuccesTool","onShow","onSucces","onText","handleShowErrorTool","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","register","then","res","replace","console","log","catch","err","concat","className","children","onChange","placeholder","required","type","onClick","to"],"sources":["/Users/sharkavli/проекты яндекс /react-mesto-auth/src/components/Register.js"],"sourcesContent":["import { Link, useNavigate } from 'react-router-dom';\nimport * as auth from '../auth';\nimport React from 'react';\n\nexport const Register = (props) => {\n  const navigate = useNavigate();\n  const [formValue, setFormValue] = React.useState({\n    email: '',\n    password: '',\n  });\n\n  const handleShowSuccesTool = () => {\n    props.onShow(true);\n    props.onSucces(true);\n    props.onText('Вы успешно зарегистрировались!');\n  };\n\n  const handleShowErrorTool = () => {\n    props.onShow(true);\n    props.onSucces(false);\n    props.onText('Что-то пошло не так! Попробуйте ещё раз.');\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setFormValue({\n      ...formValue,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { password, email } = formValue;\n    auth\n      .register(password, email)\n      .then((res) => {\n        if (res) {\n          handleShowSuccesTool();\n          navigate('/sign-in', { replace: true });\n        } else {\n          handleShowErrorTool();\n          console.log(res);\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка! ${err}`);\n      });\n  };\n\n  return (\n    <div className=\"sign-up\">\n      <div className=\"sign-up__container\">\n        <h1 className=\"sign-up__title\">Регистрация</h1>\n        <form className=\"sign-up__form\">\n          <input\n            onChange={handleChange}\n            placeholder=\"Email\"\n            className=\"sign-up__input\"\n            required\n            name=\"email\"\n            type=\"email\"\n            value={formValue.email}\n          ></input>\n          <input\n            onChange={handleChange}\n            placeholder=\"Пароль\"\n            className=\"sign-up__input\"\n            required\n            name=\"password\"\n            type=\"password\"\n            value={formValue.password}\n          ></input>\n          <button\n            onClick={handleSubmit}\n            type=\"submit\"\n            className=\"sign-up__submit\"\n          >\n            Зарегестрироваться\n          </button>\n        </form>\n        <div className=\"sign-up__text-container\">\n          <p className=\"sign-up__info-text\">Уже зарегестрированы?</p>\n          <Link to=\"/sign-in\" className=\"sign-up__link\">\n            Войти\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /mesto-react/src/utils/FormValidator.js\";\nimport EditAvatarPopup from '../components/EditAvatarPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationConfig = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__save',\n  inactiveButtonClass: 'popup__save_inactive',\n  inputErrorClass: 'popup__input_error',\n  errorClass: 'popup__error-message_active'\n};\nclass FormValidator {\n  constructor(validationConfig, formElement) {\n    this.disableButton = () => {\n      this._arrInputs.forEach(input => {\n        if (!input.validity.valid) {\n          this._button.classList.add('popup__save_inactive');\n          this._button.setAttribute('disabled', true);\n        } else {\n          this._button.classList.remove('popup__save_inactive');\n          this._button.removeAttribute('disabled', true);\n        }\n      });\n    };\n    this._formSelector = validationConfig.formSelector;\n    this._inputSelector = validationConfig.inputSelector;\n    this._submitButtonSelector = validationConfig.submitButtonSelector;\n    this._inactiveButtonClass = validationConfig.inactiveButtonClass;\n    this._inputErrorClass = validationConfig.inputErrorClass;\n    this._errorClass = validationConfig.errorClass;\n    this._formElement = formElement;\n  }\n  enableValidation() {\n    const formElement = this._formElement;\n    this._setEventListeners(formElement);\n    formElement.addEventListener('submit', evt => {\n      evt.preventDefault();\n    });\n  }\n  _setEventListeners(formElement) {\n    this._button = this._formElement.querySelector('.popup__save');\n    this._inputs = this._formElement.querySelectorAll('.popup__input');\n    this._arrInputs = Array.from(this._inputs);\n    this._inputList = Array.from(formElement.querySelectorAll(this._inputSelector));\n    this._buttonElement = formElement.querySelector(this._submitButtonSelector);\n    this._toggleButtonState(this._inputList, this._buttonElement);\n    this._inputList.forEach(inputElement => {\n      inputElement.addEventListener('input', () => {\n        this._toggleButtonState(this._inputList, this._buttonElement);\n        this._checkInputValidity(formElement, inputElement);\n      });\n    });\n  }\n  _toggleButtonState(inputList, buttonElement) {\n    if (this._hasInvalidInput(inputList)) {\n      buttonElement.classList.add(this._inactiveButtonClass);\n      buttonElement.setAttribute('disabled', true);\n    } else {\n      buttonElement.classList.remove(this._inactiveButtonClass);\n      buttonElement.removeAttribute('disabled', true);\n    }\n  }\n  _checkInputValidity(formElement, inputElement) {\n    if (!inputElement.validity.valid) {\n      this._showInputError(formElement, inputElement, inputElement.validationMessage);\n    } else {\n      this._hideInputError(formElement, inputElement);\n    }\n  }\n  _hasInvalidInput(inputList) {\n    return inputList.some(inputElement => {\n      return !inputElement.validity.valid;\n    });\n  }\n  _showInputError(formElement, inputElement, errorMessage) {\n    const errorElement = formElement.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.add(this._inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._errorClass);\n  }\n  _hideInputError(formElement, inputElement) {\n    const errorElement = formElement.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.remove(this._inputErrorClass);\n    inputElement.classList.remove(this._errorClass);\n    errorElement.textContent = '';\n  }\n}\nexport const profileValidation = new FormValidator(validationConfig, formProfile);\nexport const addValidation = new FormValidator(validationConfig, formAdd);\nexport const avatarValidation = new FormValidator(validationConfig, /*#__PURE__*/_jsxDEV(EditAvatarPopup, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 110,\n  columnNumber: 3\n}, this));","map":{"version":3,"names":["EditAvatarPopup","jsxDEV","_jsxDEV","validationConfig","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","FormValidator","constructor","formElement","disableButton","_arrInputs","forEach","input","validity","valid","_button","classList","add","setAttribute","remove","removeAttribute","_formSelector","_inputSelector","_submitButtonSelector","_inactiveButtonClass","_inputErrorClass","_errorClass","_formElement","enableValidation","_setEventListeners","addEventListener","evt","preventDefault","querySelector","_inputs","querySelectorAll","Array","from","_inputList","_buttonElement","_toggleButtonState","inputElement","_checkInputValidity","inputList","buttonElement","_hasInvalidInput","_showInputError","validationMessage","_hideInputError","some","errorMessage","errorElement","id","textContent","profileValidation","formProfile","addValidation","formAdd","avatarValidation","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/sharkavli/проекты яндекс /mesto-react/src/utils/FormValidator.js"],"sourcesContent":["import EditAvatarPopup from '../components/EditAvatarPopup';\n\nconst validationConfig = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__save',\n  inactiveButtonClass: 'popup__save_inactive',\n  inputErrorClass: 'popup__input_error',\n  errorClass: 'popup__error-message_active',\n};\n\nclass FormValidator {\n  constructor(validationConfig, formElement) {\n    this._formSelector = validationConfig.formSelector;\n    this._inputSelector = validationConfig.inputSelector;\n    this._submitButtonSelector = validationConfig.submitButtonSelector;\n    this._inactiveButtonClass = validationConfig.inactiveButtonClass;\n    this._inputErrorClass = validationConfig.inputErrorClass;\n    this._errorClass = validationConfig.errorClass;\n    this._formElement = formElement;\n  }\n\n  enableValidation() {\n    const formElement = this._formElement;\n    this._setEventListeners(formElement);\n    formElement.addEventListener('submit', (evt) => {\n      evt.preventDefault();\n    });\n  }\n\n  _setEventListeners(formElement) {\n    this._button = this._formElement.querySelector('.popup__save');\n    this._inputs = this._formElement.querySelectorAll('.popup__input');\n    this._arrInputs = Array.from(this._inputs);\n    this._inputList = Array.from(\n      formElement.querySelectorAll(this._inputSelector)\n    );\n    this._buttonElement = formElement.querySelector(this._submitButtonSelector);\n    this._toggleButtonState(this._inputList, this._buttonElement);\n    this._inputList.forEach((inputElement) => {\n      inputElement.addEventListener('input', () => {\n        this._toggleButtonState(this._inputList, this._buttonElement);\n        this._checkInputValidity(formElement, inputElement);\n      });\n    });\n  }\n\n  _toggleButtonState(inputList, buttonElement) {\n    if (this._hasInvalidInput(inputList)) {\n      buttonElement.classList.add(this._inactiveButtonClass);\n      buttonElement.setAttribute('disabled', true);\n    } else {\n      buttonElement.classList.remove(this._inactiveButtonClass);\n      buttonElement.removeAttribute('disabled', true);\n    }\n  }\n\n  _checkInputValidity(formElement, inputElement) {\n    if (!inputElement.validity.valid) {\n      this._showInputError(\n        formElement,\n        inputElement,\n        inputElement.validationMessage\n      );\n    } else {\n      this._hideInputError(formElement, inputElement);\n    }\n  }\n\n  _hasInvalidInput(inputList) {\n    return inputList.some((inputElement) => {\n      return !inputElement.validity.valid;\n    });\n  }\n\n  _showInputError(formElement, inputElement, errorMessage) {\n    const errorElement = formElement.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.add(this._inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._errorClass);\n  }\n\n  _hideInputError(formElement, inputElement) {\n    const errorElement = formElement.querySelector(`#${inputElement.id}-error`);\n    inputElement.classList.remove(this._inputErrorClass);\n    inputElement.classList.remove(this._errorClass);\n    errorElement.textContent = '';\n  }\n\n  disableButton = () => {\n    this._arrInputs.forEach((input) => {\n      if (!input.validity.valid) {\n        this._button.classList.add('popup__save_inactive');\n        this._button.setAttribute('disabled', true);\n      } else {\n        this._button.classList.remove('popup__save_inactive');\n        this._button.removeAttribute('disabled', true);\n      }\n    });\n  };\n}\n\nexport const profileValidation = new FormValidator(\n  validationConfig,\n  formProfile\n);\nexport const addValidation = new FormValidator(validationConfig, formAdd);\nexport const avatarValidation = new FormValidator(\n  validationConfig,\n  <EditAvatarPopup />\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
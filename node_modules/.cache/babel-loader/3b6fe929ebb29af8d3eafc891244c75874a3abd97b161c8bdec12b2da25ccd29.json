{"ast":null,"code":"import _defineProperty from\"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /react-mesto-auth/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sharkavli/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u044F\\u043D\\u0434\\u0435\\u043A\\u0441 /react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import*as auth from'../auth';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(props){var navigate=useNavigate();var _React$useState=React.useState({email:'',password:''}),_React$useState2=_slicedToArray(_React$useState,2),formValue=_React$useState2[0],setFormValue=_React$useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValue(_objectSpread(_objectSpread({},formValue),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var password=formValue.password,email=formValue.email;auth.authorize(password,email).then(function(res){if(res.token){navigate('/',{replace:true});localStorage.setItem('jwt',res.token);props.setEmail(email);props.onLog(true);}}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430! \".concat(err));});};return/*#__PURE__*/_jsx(\"div\",{className:\"sign-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"sign-up__title\",children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"sign-up__form\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,placeholder:\"Email\",className:\"sign-up__input\",required:true,name:\"email\",type:\"email\",value:formValue.email}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"sign-up__input\",required:true,name:\"password\",type:\"password\",value:formValue.password}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,type:\"submit\",className:\"sign-up__submit\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})});};","map":{"version":3,"names":["React","auth","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","navigate","_React$useState","useState","email","password","_React$useState2","_slicedToArray","formValue","setFormValue","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","authorize","then","res","token","replace","localStorage","setItem","setEmail","onLog","catch","err","console","log","concat","className","children","onChange","placeholder","required","type","onClick"],"sources":["/Users/sharkavli/проекты яндекс /react-mesto-auth/src/components/Login.js"],"sourcesContent":["import React from 'react';\nimport * as auth from '../auth';\nimport { useNavigate } from 'react-router-dom';\n\nexport const Login = (props) => {\n  const navigate = useNavigate();\n  const [formValue, setFormValue] = React.useState({\n    email: '',\n    password: '',\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setFormValue({\n      ...formValue,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { password, email } = formValue;\n    auth\n      .authorize(password, email)\n      .then((res) => {\n        if (res.token) {\n          navigate('/', { replace: true });\n          localStorage.setItem('jwt', res.token);\n          props.setEmail(email);\n          props.onLog(true);\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка! ${err}`);\n      });\n  };\n\n  return (\n    <div className=\"sign-up\">\n      <div className=\"sign-up__container\">\n        <h1 className=\"sign-up__title\">Вход</h1>\n        <form className=\"sign-up__form\">\n          <input\n            onChange={handleChange}\n            placeholder=\"Email\"\n            className=\"sign-up__input\"\n            required\n            name=\"email\"\n            type=\"email\"\n            value={formValue.email}\n          ></input>\n          <input\n            onChange={handleChange}\n            placeholder=\"Пароль\"\n            className=\"sign-up__input\"\n            required\n            name=\"password\"\n            type=\"password\"\n            value={formValue.password}\n          ></input>\n          <button\n            onClick={handleSubmit}\n            type=\"submit\"\n            className=\"sign-up__submit\"\n          >\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}